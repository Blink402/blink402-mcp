/**
 * Transaction Builder Utilities for Solana USDC Payments
 *
 * Provides reusable functions for building Solana transactions that comply
 * with ONCHAIN x402 EXACT-SVM requirements:
 * - Exactly 3 instructions (2 ComputeBudget + 1 SPL Token Transfer)
 * - VersionedTransaction format (v0)
 * - PayAI fee payer to prevent Phantom Lighthouse MEV injection
 *
 * @see apps/web/app/checkout/[slug]/page.tsx for original implementation
 */
import { Connection, PublicKey, VersionedTransaction } from '@solana/web3.js';
/**
 * Parameters for building a USDC payment transaction
 */
export interface BuildUsdcPaymentTxParams {
    /** Solana connection */
    connection: Connection;
    /** User's wallet public key (the payer) */
    payer: PublicKey;
    /** Merchant's wallet public key (the recipient) */
    merchant: PublicKey;
    /** Amount in USDC (e.g., 0.01 for $0.01) */
    amountUsdc: number;
    /** Network to use (defaults to mainnet) */
    network?: 'mainnet-beta' | 'devnet';
}
/**
 * Build a USDC payment transaction for ONCHAIN x402
 *
 * This function creates a VersionedTransaction with EXACTLY 3 instructions:
 * 1. ComputeBudgetProgram.setComputeUnitLimit (40,000 units)
 * 2. ComputeBudgetProgram.setComputeUnitPrice (1 microlamport)
 * 3. SPL Token Transfer (USDC from payer to merchant)
 *
 * The transaction uses PayAI's fee payer to prevent Phantom Lighthouse from
 * injecting additional instructions that would break ONCHAIN's EXACT-SVM verification.
 *
 * @param params - Transaction building parameters
 * @returns Unsigned VersionedTransaction ready for wallet signing
 * @throws Error if payer/merchant addresses are invalid or ATAs cannot be created
 *
 * @example
 * ```typescript
 * const tx = await buildUsdcPaymentTransaction({
 *   connection,
 *   payer: userWalletPublicKey,
 *   merchant: new PublicKey(blink.payout_wallet),
 *   amountUsdc: blink.price_usdc,
 *   network: 'mainnet-beta'
 * })
 *
 * const signedTx = await window.solana.signTransaction(tx)
 * ```
 */
export declare function buildUsdcPaymentTransaction(params: BuildUsdcPaymentTxParams): Promise<VersionedTransaction>;
/**
 * Validate a wallet public key before using it in transaction building
 *
 * @param address - Public key to validate
 * @param type - Type of address (for error messages)
 * @throws Error if address is invalid
 */
export declare function validateWalletAddress(address: PublicKey, type?: string): void;
/**
 * Get USDC mint address for a specific network
 *
 * @param network - Solana network
 * @returns USDC mint PublicKey
 */
export declare function getUsdcMintForNetwork(network: 'mainnet-beta' | 'devnet'): PublicKey;
/**
 * Convert USDC amount to atomic units (with 6 decimals)
 *
 * @param amountUsdc - Amount in USDC (e.g., 0.01)
 * @returns Amount in atomic units (e.g., 10000)
 */
export declare function usdcToAtomic(amountUsdc: number): bigint;
/**
 * Convert atomic units to USDC amount
 *
 * @param amountAtomic - Amount in atomic units
 * @returns Amount in USDC
 */
export declare function atomicToUsdc(amountAtomic: bigint): number;
//# sourceMappingURL=transaction-builder.d.ts.map